{% extends 'base.html.twig' %}
{% form_theme profilForm 'bootstrap_4_horizontal_layout.html.twig' %}

{% block body %}
<div class="container">
  <div class="row">
    <div class="col-md-3" style="margin: 5% auto;">
      <img class="border" id="preview" src="{{ asset('uploads/profil_pictures/' ~ ppPath ~ '') }}" alt="photo de profil" width="240" height="240"/>
    </div>
    <div class="col-md-9">
        <h2 style="text-align:center">Mon Profil</h2>

        {{  form_start(profilForm) }}

        {{ form_widget(profilForm) }}

        <div style="text-align:center">
          <button type="submit" class="btn btn-primary">Enregistrer</button>
          <button type="reset" class="btn btn-secondary">Annuler</button>
        </div>
        
        {{  form_end(profilForm) }}
    </div>
  </div>
</div>
<script>
  function readURL(input) {
	  if (input.files && input.files[0]) {
	    var reader = new FileReader();
	    
	    reader.onload = function(e) {
	      $('#preview').attr('src', e.target.result);
	    }
	    
	    reader.readAsDataURL(input.files[0]); // convert to base64 string
	  }
	}
	
	$('input#register_profilPicture').on('change', function() {
		readURL(this);
	});
</script>
{% endblock %}



{% block title %}{{ parent() }} | Profil{% endblock %}